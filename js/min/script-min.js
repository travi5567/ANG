!function(){"strict";var a={close:$("i.fi-x"),list:$("#main-nav").find("li"),listItem:$("#main-nav").find("a"),project:$(".portfolio-wrapper"),init:function(){var t=""+document.URL,e=t.substr(t.lastIndexOf("/")+1),o;switch(e){case"contact-page":$("#main-nav ul li.contact-page").addClass("active"),o="contact";break;case"about-page":$("#main-nav ul li.about-page").addClass("active"),o="about";break;case"portfolio-page":$("#main-nav ul li.portfolio-page").addClass("active"),o="portfolio";break;default:$("#main-nav ul li.portfolio-page").addClass("active"),o="portfolio"}a.loadProjects(o)},exitProject:function(){a.ajaxCall("portfolio-wrapper","partials/portfolio.html")},showProject:function(){var t=$("#portfolio").css("height");$("#portfolio").css("height",t),a.ajaxCall("portfolio-wrapper","partials/project-item.html")},loadProjects:function(t){a.ajaxCall("portfolio-wrapper","partials/"+t+".html")},loadPage:function(){var t=$(this).context.hash,e=a.list,o=$(this).parent(),i=t.split("/").pop().split("-").shift(),l="partials/"+i+".html";e.removeClass("active"),o.addClass("active"),a.ajaxCall("portfolio-wrapper",l)},ajaxCall:function(t,e){$("."+t).html('<div id="loader"><img id="loader-img" alt="" src="img/loading-dog.gif" width="100" height="100" align="center" /><p>Loading..</p></div>'),$("."+t).load(e,"html",function(t){a.project.hide().empty().append(t).stop().fadeIn("slow")})},getUrl:function(){var t=""+document.URL;return a.getSegment(t,2)},getSegment:function(a,t){return a.replace(/^https?:\/\//,"").split("/")[t]}};a.init(),a.project.on("click",".close-btn",a.exitProject),a.project.on("click",".project-item",a.showProject),a.listItem.on("click",a.loadPage),$(window).bind("hashchange",a.getUrl);var t=$("#contact"),e=$("#form-messages");$(t).submit(function(a){a.preventDefault();var o=$(t).serialize();$.ajax({type:"POST",url:"mailer.php",data:o}).done(function(a){$(e).removeClass("error"),$(e).addClass("success"),$(e).text(a),$("#f_name").val(""),$("#f_email").val(""),$("#f_phone").val(""),$("#f_website").val(""),$("#f_hear").val(""),$("#f_budget").val(""),$("#f_startdate").val(""),$("#f_message").val("")}).fail(function(a){$(e).removeClass("success"),$(e).addClass("error"),$(e).text(""!==a.responseText?a.responseText:"Oops! An error occured and your message could not be sent.")})})}();